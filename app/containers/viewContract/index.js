import React, { PropTypes, Component } from 'react';

import {   
  StyleSheet,
  Text,
  View,
  ScrollView,
  ListView,
  TouchableOpacity,
  TouchableHighlight,
  Image,
  Navigator,
} from 'react-native';

import { List, SearchBar, Tabs } from 'antd-mobile';

import Icon from 'react-native-vector-icons/Ionicons';
import {connect} from 'react-redux';
import NavigatorBar from 'react-native-navbar';
import makeSelectViewContract from './selectors';
import formatter from '../../utils/formatter';

import commonStyle from '../styles';

class ViewContract extends Component {
  constructor(props){
    super(props);
    const ds = new ListView.DataSource({rowHasChanged: (r1, r2) => r1 !== r2});
    this.state = {
      current: "1",
      contract:ds.cloneWithRows([
        {
          "comDesc": "中国长江三峡集团公司",
          "paidTimes": 27,
          "paidAmount": 6105999225.24,
          "totalAmount": 18161960951.9,
          "completionRatio": 0.336197134296846111833900749843451194465160369873046875,
          "lastPaidDate": 1462204800000,
          "lastPaidAmount": 1,
          "nextInvoiceNo": "2017027140",
          "depts": null,
          "systemId": "e6571378f7964fbab303cc88b30facf1",
          "systemCode": "YC_TGPMS",
          "poNo": "XN208",
          "project": "TGP",
          "poStatus": null,
          "installProject": null,
          "currentCo": null,
          "description": "金沙江信息中心虚拟合同",
          "poType": "XN",
          "poCategory": null,
          "company": "CTGPC",
          "companyAddress": null,
          "companyContact": null,
          "awardDate": null,
          "contractualDate": null,
          "requisitionRef": null,
          "installPoNo": null,
          "division": null,
          "department": null,
          "departmentDesc": null,
          "ccaAmt": null,
          "cepNo": null,
          "cashPackage": null,
          "dfltSuperPoNo": null,
          "poNote": null,
          "holdbackPercent": null,
          "holdbackReleaseDate": null,
          "paymentTerms": null,
          "commitType": null,
          "incurredType": null,
          "invoiceType": null,
          "contentLoc1": null,
          "contentLoc2": null,
          "contentLoc3": null,
          "contentLoc4": null,
          "contentLoc5": null,
          "contentLoc6": null,
          "docDaysToVendor": null,
          "docDaysFromVendor": null,
          "responsiblePerson": null,
          "engineer": null,
          "buyer": null,
          "expeditor": null,
          "inspector": null,
          "administrator": null,
          "supervisor": null,
          "multiShipTo": null,
          "shipToCompany": null,
          "shipToAddress": null,
          "shipToContact": null,
          "apCompany": null,
          "apAddress": null,
          "apContact": null,
          "multiShipFrom": null,
          "shipFrom": null,
          "shipVia": null,
          "ptdCommitAmt": null,
          "ptdPaidAmt": null,
          "ptdGstPaidAmt": null,
          "assetAllocStatus": null,
          "designPhase": null,
          "surveyArea": null,
          "workSchedule": null,
          "remarks": null,
          "prjtLoc": null,
          "effectiveDate": null,
          "startDate": null,
          "endDate": null,
          "originalCode": null,
          "indexNo": null,
          "bankAccountName": null,
          "bankAccountNo": null,
          "downPaymentAmt": null,
          "paymentType": null,
          "downPaymentPct": null,
          "contractorEngineer": null,
          "specialReqts": null,
          "schedStartDate": null,
          "schedEndDate": null,
          "subProject": null,
          "expiryDate": null,
          "modifyDate": null,
          "modifyUser": null,
          "insertUser": null,
          "insertDate": null,
          "dataOwner": null,
          "distributionType": null,
          "bidType": null,
          "companySupervision": null,
          "priceAgmtPoNo": null,
          "priceAgmtProject": null,
          "pricePlanPoNo": null,
          "pricePlanProject": null,
          "safeKeepingRate": null,
          "hbAdmnsFeesPoNo": null,
          "hbAdmnsFeesProject": null,
          "originalAmt": null,
          "haveSupplyList": null,
          "completeDate": null,
          "checkDate": null,
          "poNoCheckDate": null,
          "backCheckDate": null,
          "apportionmentNo": null,
          "budgetHierarchyCode": null,
          "poTypeClose": null,
          "subContractType": null,
          "assetType": null,
          "deliverAssetCode": null,
          "apportMethodAllow": null,
          "amaDate": null,
          "amaPerson": null,
          "letterGuarantee": null,
          "seqNumber": null,
          "subjectMatter": null,
          "duplicated": null,
          "projectDesc": null
        }, {
          "comDesc": "三峡高科信息技术有限责任公司",
          "paidTimes": 4,
          "paidAmount": 312,
          "totalAmount": 180000,
          "completionRatio": 0.0017333333333333332537673499018637812696397304534912109375,
          "lastPaidDate": 1479830400000,
          "lastPaidAmount": 12,
          "nextInvoiceNo": "2017021078",
          "depts": null,
          "systemId": "e6571378f7964fbab303cc88b30facf1",
          "systemCode": "YC_TGPMS",
          "poNo": "LB010106",
          "project": "TGP",
          "poStatus": null,
          "installProject": null,
          "currentCo": null,
          "description": "测试多币种",
          "poType": "CB",
          "poCategory": null,
          "company": "SXGK",
          "companyAddress": null,
          "companyContact": null,
          "awardDate": null,
          "contractualDate": null,
          "requisitionRef": null,
          "installPoNo": null,
          "division": null,
          "department": null,
          "departmentDesc": "信息中心综合处",
          "ccaAmt": null,
          "cepNo": null,
          "cashPackage": null,
          "dfltSuperPoNo": null,
          "poNote": null,
          "holdbackPercent": null,
          "holdbackReleaseDate": null,
          "paymentTerms": null,
          "commitType": null,
          "incurredType": null,
          "invoiceType": null,
          "contentLoc1": null,
          "contentLoc2": null,
          "contentLoc3": null,
          "contentLoc4": null,
          "contentLoc5": null,
          "contentLoc6": null,
          "docDaysToVendor": null,
          "docDaysFromVendor": null,
          "responsiblePerson": null,
          "engineer": null,
          "buyer": null,
          "expeditor": null,
          "inspector": null,
          "administrator": null,
          "supervisor": null,
          "multiShipTo": null,
          "shipToCompany": null,
          "shipToAddress": null,
          "shipToContact": null,
          "apCompany": null,
          "apAddress": null,
          "apContact": null,
          "multiShipFrom": null,
          "shipFrom": null,
          "shipVia": null,
          "ptdCommitAmt": null,
          "ptdPaidAmt": null,
          "ptdGstPaidAmt": null,
          "assetAllocStatus": null,
          "designPhase": null,
          "surveyArea": null,
          "workSchedule": null,
          "remarks": null,
          "prjtLoc": null,
          "effectiveDate": null,
          "startDate": null,
          "endDate": null,
          "originalCode": null,
          "indexNo": null,
          "bankAccountName": null,
          "bankAccountNo": null,
          "downPaymentAmt": null,
          "paymentType": null,
          "downPaymentPct": null,
          "contractorEngineer": null,
          "specialReqts": null,
          "schedStartDate": null,
          "schedEndDate": null,
          "subProject": null,
          "expiryDate": null,
          "modifyDate": null,
          "modifyUser": null,
          "insertUser": null,
          "insertDate": null,
          "dataOwner": null,
          "distributionType": null,
          "bidType": null,
          "companySupervision": null,
          "priceAgmtPoNo": null,
          "priceAgmtProject": null,
          "pricePlanPoNo": null,
          "pricePlanProject": null,
          "safeKeepingRate": null,
          "hbAdmnsFeesPoNo": null,
          "hbAdmnsFeesProject": null,
          "originalAmt": null,
          "haveSupplyList": null,
          "completeDate": null,
          "checkDate": null,
          "poNoCheckDate": null,
          "backCheckDate": null,
          "apportionmentNo": null,
          "budgetHierarchyCode": null,
          "poTypeClose": null,
          "subContractType": null,
          "assetType": null,
          "deliverAssetCode": null,
          "apportMethodAllow": null,
          "amaDate": null,
          "amaPerson": null,
          "letterGuarantee": null,
          "seqNumber": null,
          "subjectMatter": null,
          "duplicated": null,
          "projectDesc": null
        }, {
          "comDesc": "三峡高科信息技术有限责任公司",
          "paidTimes": 3,
          "paidAmount": 2600,
          "totalAmount": 118000,
          "completionRatio": 0.02203389830508474533932172789718606509268283843994140625,
          "lastPaidDate": 1461945600000,
          "lastPaidAmount": 1000,
          "nextInvoiceNo": "2017021020",
          "depts": null,
          "systemId": "e6571378f7964fbab303cc88b30facf1",
          "systemCode": "YC_TGPMS",
          "poNo": "LB010103",
          "project": "TGP",
          "poStatus": null,
          "installProject": null,
          "currentCo": null,
          "description": "测试多币种",
          "poType": "SC",
          "poCategory": null,
          "company": "SXGK",
          "companyAddress": null,
          "companyContact": null,
          "awardDate": null,
          "contractualDate": null,
          "requisitionRef": null,
          "installPoNo": null,
          "division": null,
          "department": null,
          "departmentDesc": "信息中心综合处",
          "ccaAmt": null,
          "cepNo": null,
          "cashPackage": null,
          "dfltSuperPoNo": null,
          "poNote": null,
          "holdbackPercent": null,
          "holdbackReleaseDate": null,
          "paymentTerms": null,
          "commitType": null,
          "incurredType": null,
          "invoiceType": null,
          "contentLoc1": null,
          "contentLoc2": null,
          "contentLoc3": null,
          "contentLoc4": null,
          "contentLoc5": null,
          "contentLoc6": null,
          "docDaysToVendor": null,
          "docDaysFromVendor": null,
          "responsiblePerson": null,
          "engineer": null,
          "buyer": null,
          "expeditor": null,
          "inspector": null,
          "administrator": null,
          "supervisor": null,
          "multiShipTo": null,
          "shipToCompany": null,
          "shipToAddress": null,
          "shipToContact": null,
          "apCompany": null,
          "apAddress": null,
          "apContact": null,
          "multiShipFrom": null,
          "shipFrom": null,
          "shipVia": null,
          "ptdCommitAmt": null,
          "ptdPaidAmt": null,
          "ptdGstPaidAmt": null,
          "assetAllocStatus": null,
          "designPhase": null,
          "surveyArea": null,
          "workSchedule": null,
          "remarks": null,
          "prjtLoc": null,
          "effectiveDate": null,
          "startDate": null,
          "endDate": null,
          "originalCode": null,
          "indexNo": null,
          "bankAccountName": null,
          "bankAccountNo": null,
          "downPaymentAmt": null,
          "paymentType": null,
          "downPaymentPct": null,
          "contractorEngineer": null,
          "specialReqts": null,
          "schedStartDate": null,
          "schedEndDate": null,
          "subProject": null,
          "expiryDate": null,
          "modifyDate": null,
          "modifyUser": null,
          "insertUser": null,
          "insertDate": null,
          "dataOwner": null,
          "distributionType": null,
          "bidType": null,
          "companySupervision": null,
          "priceAgmtPoNo": null,
          "priceAgmtProject": null,
          "pricePlanPoNo": null,
          "pricePlanProject": null,
          "safeKeepingRate": null,
          "hbAdmnsFeesPoNo": null,
          "hbAdmnsFeesProject": null,
          "originalAmt": null,
          "haveSupplyList": null,
          "completeDate": null,
          "checkDate": null,
          "poNoCheckDate": null,
          "backCheckDate": null,
          "apportionmentNo": null,
          "budgetHierarchyCode": null,
          "poTypeClose": null,
          "subContractType": null,
          "assetType": null,
          "deliverAssetCode": null,
          "apportMethodAllow": null,
          "amaDate": null,
          "amaPerson": null,
          "letterGuarantee": null,
          "seqNumber": null,
          "subjectMatter": null,
          "duplicated": null,
          "projectDesc": null
        }, {
          "comDesc": "国营九三二三厂1",
          "paidTimes": 3,
          "paidAmount": 3501,
          "totalAmount": 7260000,
          "completionRatio": 0.000482231404958677659609855847833159714355133473873138427734375,
          "lastPaidDate": 1459872000000,
          "lastPaidAmount": 1,
          "nextInvoiceNo": "2017021006",
          "depts": null,
          "systemId": "e6571378f7964fbab303cc88b30facf1",
          "systemCode": "YC_TGPMS",
          "poNo": "INVTEST01",
          "project": "TGP",
          "poStatus": null,
          "installProject": null,
          "currentCo": null,
          "description": "测试跨部门批准支付单功能（支付单批准人交验功能完善）",
          "poType": "EC",
          "poCategory": null,
          "company": "12334",
          "companyAddress": null,
          "companyContact": null,
          "awardDate": null,
          "contractualDate": null,
          "requisitionRef": null,
          "installPoNo": null,
          "division": null,
          "department": null,
          "departmentDesc": "信息中心综合处",
          "ccaAmt": null,
          "cepNo": null,
          "cashPackage": null,
          "dfltSuperPoNo": null,
          "poNote": null,
          "holdbackPercent": null,
          "holdbackReleaseDate": null,
          "paymentTerms": null,
          "commitType": null,
          "incurredType": null,
          "invoiceType": null,
          "contentLoc1": null,
          "contentLoc2": null,
          "contentLoc3": null,
          "contentLoc4": null,
          "contentLoc5": null,
          "contentLoc6": null,
          "docDaysToVendor": null,
          "docDaysFromVendor": null,
          "responsiblePerson": null,
          "engineer": null,
          "buyer": null,
          "expeditor": null,
          "inspector": null,
          "administrator": null,
          "supervisor": null,
          "multiShipTo": null,
          "shipToCompany": null,
          "shipToAddress": null,
          "shipToContact": null,
          "apCompany": null,
          "apAddress": null,
          "apContact": null,
          "multiShipFrom": null,
          "shipFrom": null,
          "shipVia": null,
          "ptdCommitAmt": null,
          "ptdPaidAmt": null,
          "ptdGstPaidAmt": null,
          "assetAllocStatus": null,
          "designPhase": null,
          "surveyArea": null,
          "workSchedule": null,
          "remarks": null,
          "prjtLoc": null,
          "effectiveDate": null,
          "startDate": null,
          "endDate": null,
          "originalCode": null,
          "indexNo": null,
          "bankAccountName": null,
          "bankAccountNo": null,
          "downPaymentAmt": null,
          "paymentType": null,
          "downPaymentPct": null,
          "contractorEngineer": null,
          "specialReqts": null,
          "schedStartDate": null,
          "schedEndDate": null,
          "subProject": null,
          "expiryDate": null,
          "modifyDate": null,
          "modifyUser": null,
          "insertUser": null,
          "insertDate": null,
          "dataOwner": null,
          "distributionType": null,
          "bidType": null,
          "companySupervision": null,
          "priceAgmtPoNo": null,
          "priceAgmtProject": null,
          "pricePlanPoNo": null,
          "pricePlanProject": null,
          "safeKeepingRate": null,
          "hbAdmnsFeesPoNo": null,
          "hbAdmnsFeesProject": null,
          "originalAmt": null,
          "haveSupplyList": null,
          "completeDate": null,
          "checkDate": null,
          "poNoCheckDate": null,
          "backCheckDate": null,
          "apportionmentNo": null,
          "budgetHierarchyCode": null,
          "poTypeClose": null,
          "subContractType": null,
          "assetType": null,
          "deliverAssetCode": null,
          "apportMethodAllow": null,
          "amaDate": null,
          "amaPerson": null,
          "letterGuarantee": null,
          "seqNumber": null,
          "subjectMatter": null,
          "duplicated": null,
          "projectDesc": null
        }, {
          "comDesc": "三峡高科信息技术有限责任公司",
          "paidTimes": 5,
          "paidAmount": 10068,
          "totalAmount": 68000,
          "completionRatio": 0.1480588235294117704921035283405217342078685760498046875,
          "lastPaidDate": 1462377600000,
          "lastPaidAmount": 68,
          "nextInvoiceNo": "2017023022",
          "depts": null,
          "systemId": "e6571378f7964fbab303cc88b30facf1",
          "systemCode": "YC_TGPMS",
          "poNo": "LB010101",
          "project": "TGP",
          "poStatus": null,
          "installProject": null,
          "currentCo": null,
          "description": "中小工程一体化项目",
          "poType": "AZ",
          "poCategory": null,
          "company": "SXGK",
          "companyAddress": null,
          "companyContact": null,
          "awardDate": null,
          "contractualDate": null,
          "requisitionRef": null,
          "installPoNo": null,
          "division": null,
          "department": null,
          "departmentDesc": "信息中心",
          "ccaAmt": null,
          "cepNo": null,
          "cashPackage": null,
          "dfltSuperPoNo": null,
          "poNote": null,
          "holdbackPercent": null,
          "holdbackReleaseDate": null,
          "paymentTerms": null,
          "commitType": null,
          "incurredType": null,
          "invoiceType": null,
          "contentLoc1": null,
          "contentLoc2": null,
          "contentLoc3": null,
          "contentLoc4": null,
          "contentLoc5": null,
          "contentLoc6": null,
          "docDaysToVendor": null,
          "docDaysFromVendor": null,
          "responsiblePerson": null,
          "engineer": null,
          "buyer": null,
          "expeditor": null,
          "inspector": null,
          "administrator": null,
          "supervisor": null,
          "multiShipTo": null,
          "shipToCompany": null,
          "shipToAddress": null,
          "shipToContact": null,
          "apCompany": null,
          "apAddress": null,
          "apContact": null,
          "multiShipFrom": null,
          "shipFrom": null,
          "shipVia": null,
          "ptdCommitAmt": null,
          "ptdPaidAmt": null,
          "ptdGstPaidAmt": null,
          "assetAllocStatus": null,
          "designPhase": null,
          "surveyArea": null,
          "workSchedule": null,
          "remarks": null,
          "prjtLoc": null,
          "effectiveDate": null,
          "startDate": null,
          "endDate": null,
          "originalCode": null,
          "indexNo": null,
          "bankAccountName": null,
          "bankAccountNo": null,
          "downPaymentAmt": null,
          "paymentType": null,
          "downPaymentPct": null,
          "contractorEngineer": null,
          "specialReqts": null,
          "schedStartDate": null,
          "schedEndDate": null,
          "subProject": null,
          "expiryDate": null,
          "modifyDate": null,
          "modifyUser": null,
          "insertUser": null,
          "insertDate": null,
          "dataOwner": null,
          "distributionType": null,
          "bidType": null,
          "companySupervision": null,
          "priceAgmtPoNo": null,
          "priceAgmtProject": null,
          "pricePlanPoNo": null,
          "pricePlanProject": null,
          "safeKeepingRate": null,
          "hbAdmnsFeesPoNo": null,
          "hbAdmnsFeesProject": null,
          "originalAmt": null,
          "haveSupplyList": null,
          "completeDate": null,
          "checkDate": null,
          "poNoCheckDate": null,
          "backCheckDate": null,
          "apportionmentNo": null,
          "budgetHierarchyCode": null,
          "poTypeClose": null,
          "subContractType": null,
          "assetType": null,
          "deliverAssetCode": null,
          "apportMethodAllow": null,
          "amaDate": null,
          "amaPerson": null,
          "letterGuarantee": null,
          "seqNumber": null,
          "subjectMatter": null,
          "duplicated": null,
          "projectDesc": null
        }, {
          "comDesc": "武汉英思工程科技有限公司",
          "paidTimes": 8,
          "paidAmount": 43710110,
          "totalAmount": 44000000,
          "completionRatio": 0.99341159090909092466148422317928634583950042724609375,
          "lastPaidDate": 1461772800000,
          "lastPaidAmount": 100000,
          "nextInvoiceNo": "2017027084",
          "depts": null,
          "systemId": "e6571378f7964fbab303cc88b30facf1",
          "systemCode": "YC_TGPMS",
          "poNo": "ICP20150908",
          "project": "TGP",
          "poStatus": null,
          "installProject": null,
          "currentCo": null,
          "description": "信息中心合同审签系统测试",
          "poType": "SC",
          "poCategory": null,
          "company": "WHYSKJ",
          "companyAddress": null,
          "companyContact": null,
          "awardDate": null,
          "contractualDate": null,
          "requisitionRef": null,
          "installPoNo": null,
          "division": null,
          "department": null,
          "departmentDesc": "信息中心三峡分中心",
          "ccaAmt": null,
          "cepNo": null,
          "cashPackage": null,
          "dfltSuperPoNo": null,
          "poNote": null,
          "holdbackPercent": null,
          "holdbackReleaseDate": null,
          "paymentTerms": null,
          "commitType": null,
          "incurredType": null,
          "invoiceType": null,
          "contentLoc1": null,
          "contentLoc2": null,
          "contentLoc3": null,
          "contentLoc4": null,
          "contentLoc5": null,
          "contentLoc6": null,
          "docDaysToVendor": null,
          "docDaysFromVendor": null,
          "responsiblePerson": null,
          "engineer": null,
          "buyer": null,
          "expeditor": null,
          "inspector": null,
          "administrator": null,
          "supervisor": null,
          "multiShipTo": null,
          "shipToCompany": null,
          "shipToAddress": null,
          "shipToContact": null,
          "apCompany": null,
          "apAddress": null,
          "apContact": null,
          "multiShipFrom": null,
          "shipFrom": null,
          "shipVia": null,
          "ptdCommitAmt": null,
          "ptdPaidAmt": null,
          "ptdGstPaidAmt": null,
          "assetAllocStatus": null,
          "designPhase": null,
          "surveyArea": null,
          "workSchedule": null,
          "remarks": null,
          "prjtLoc": null,
          "effectiveDate": null,
          "startDate": null,
          "endDate": null,
          "originalCode": null,
          "indexNo": null,
          "bankAccountName": null,
          "bankAccountNo": null,
          "downPaymentAmt": null,
          "paymentType": null,
          "downPaymentPct": null,
          "contractorEngineer": null,
          "specialReqts": null,
          "schedStartDate": null,
          "schedEndDate": null,
          "subProject": null,
          "expiryDate": null,
          "modifyDate": null,
          "modifyUser": null,
          "insertUser": null,
          "insertDate": null,
          "dataOwner": null,
          "distributionType": null,
          "bidType": null,
          "companySupervision": null,
          "priceAgmtPoNo": null,
          "priceAgmtProject": null,
          "pricePlanPoNo": null,
          "pricePlanProject": null,
          "safeKeepingRate": null,
          "hbAdmnsFeesPoNo": null,
          "hbAdmnsFeesProject": null,
          "originalAmt": null,
          "haveSupplyList": null,
          "completeDate": null,
          "checkDate": null,
          "poNoCheckDate": null,
          "backCheckDate": null,
          "apportionmentNo": null,
          "budgetHierarchyCode": null,
          "poTypeClose": null,
          "subContractType": null,
          "assetType": null,
          "deliverAssetCode": null,
          "apportMethodAllow": null,
          "amaDate": null,
          "amaPerson": null,
          "letterGuarantee": null,
          "seqNumber": null,
          "subjectMatter": null,
          "duplicated": null,
          "projectDesc": null
        }, {
          "comDesc": "三峡高科信息技术有限责任公司",
          "paidTimes": 2,
          "paidAmount": 30000,
          "totalAmount": 580000,
          "completionRatio": 0.051724137931034482040804078906148788519203662872314453125,
          "lastPaidDate": 1461513600000,
          "lastPaidAmount": 20000,
          "nextInvoiceNo": "2017021008",
          "depts": null,
          "systemId": "e6571378f7964fbab303cc88b30facf1",
          "systemCode": "YC_TGPMS",
          "poNo": "ICP201503702",
          "project": "TGP",
          "poStatus": null,
          "installProject": null,
          "currentCo": null,
          "description": "信息中心合同支付702",
          "poType": "SC",
          "poCategory": null,
          "company": "SXGK",
          "companyAddress": null,
          "companyContact": null,
          "awardDate": null,
          "contractualDate": null,
          "requisitionRef": null,
          "installPoNo": null,
          "division": null,
          "department": null,
          "departmentDesc": "信息中心金沙江分中心",
          "ccaAmt": null,
          "cepNo": null,
          "cashPackage": null,
          "dfltSuperPoNo": null,
          "poNote": null,
          "holdbackPercent": null,
          "holdbackReleaseDate": null,
          "paymentTerms": null,
          "commitType": null,
          "incurredType": null,
          "invoiceType": null,
          "contentLoc1": null,
          "contentLoc2": null,
          "contentLoc3": null,
          "contentLoc4": null,
          "contentLoc5": null,
          "contentLoc6": null,
          "docDaysToVendor": null,
          "docDaysFromVendor": null,
          "responsiblePerson": null,
          "engineer": null,
          "buyer": null,
          "expeditor": null,
          "inspector": null,
          "administrator": null,
          "supervisor": null,
          "multiShipTo": null,
          "shipToCompany": null,
          "shipToAddress": null,
          "shipToContact": null,
          "apCompany": null,
          "apAddress": null,
          "apContact": null,
          "multiShipFrom": null,
          "shipFrom": null,
          "shipVia": null,
          "ptdCommitAmt": null,
          "ptdPaidAmt": null,
          "ptdGstPaidAmt": null,
          "assetAllocStatus": null,
          "designPhase": null,
          "surveyArea": null,
          "workSchedule": null,
          "remarks": null,
          "prjtLoc": null,
          "effectiveDate": null,
          "startDate": null,
          "endDate": null,
          "originalCode": null,
          "indexNo": null,
          "bankAccountName": null,
          "bankAccountNo": null,
          "downPaymentAmt": null,
          "paymentType": null,
          "downPaymentPct": null,
          "contractorEngineer": null,
          "specialReqts": null,
          "schedStartDate": null,
          "schedEndDate": null,
          "subProject": null,
          "expiryDate": null,
          "modifyDate": null,
          "modifyUser": null,
          "insertUser": null,
          "insertDate": null,
          "dataOwner": null,
          "distributionType": null,
          "bidType": null,
          "companySupervision": null,
          "priceAgmtPoNo": null,
          "priceAgmtProject": null,
          "pricePlanPoNo": null,
          "pricePlanProject": null,
          "safeKeepingRate": null,
          "hbAdmnsFeesPoNo": null,
          "hbAdmnsFeesProject": null,
          "originalAmt": null,
          "haveSupplyList": null,
          "completeDate": null,
          "checkDate": null,
          "poNoCheckDate": null,
          "backCheckDate": null,
          "apportionmentNo": null,
          "budgetHierarchyCode": null,
          "poTypeClose": null,
          "subContractType": null,
          "assetType": null,
          "deliverAssetCode": null,
          "apportMethodAllow": null,
          "amaDate": null,
          "amaPerson": null,
          "letterGuarantee": null,
          "seqNumber": null,
          "subjectMatter": null,
          "duplicated": null,
          "projectDesc": null
        }, {
          "comDesc": "武汉英思工程科技有限公司",
          "paidTimes": 32,
          "paidAmount": 780427.1,
          "totalAmount": 580000,
          "completionRatio": 1.3455639655172413338135584126575849950313568115234375,
          "lastPaidDate": 1457539200000,
          "lastPaidAmount": -64656,
          "nextInvoiceNo": "2017022990",
          "depts": null,
          "systemId": "e6571378f7964fbab303cc88b30facf1",
          "systemCode": "YC_TGPMS",
          "poNo": "ICP201503601",
          "project": "TGP",
          "poStatus": null,
          "installProject": null,
          "currentCo": null,
          "description": "信息中心合同支付601",
          "poType": "SC",
          "poCategory": null,
          "company": "WHYSKJ",
          "companyAddress": null,
          "companyContact": null,
          "awardDate": null,
          "contractualDate": null,
          "requisitionRef": null,
          "installPoNo": null,
          "division": null,
          "department": null,
          "departmentDesc": "信息中心三峡分中心",
          "ccaAmt": null,
          "cepNo": null,
          "cashPackage": null,
          "dfltSuperPoNo": null,
          "poNote": null,
          "holdbackPercent": null,
          "holdbackReleaseDate": null,
          "paymentTerms": null,
          "commitType": null,
          "incurredType": null,
          "invoiceType": null,
          "contentLoc1": null,
          "contentLoc2": null,
          "contentLoc3": null,
          "contentLoc4": null,
          "contentLoc5": null,
          "contentLoc6": null,
          "docDaysToVendor": null,
          "docDaysFromVendor": null,
          "responsiblePerson": null,
          "engineer": null,
          "buyer": null,
          "expeditor": null,
          "inspector": null,
          "administrator": null,
          "supervisor": null,
          "multiShipTo": null,
          "shipToCompany": null,
          "shipToAddress": null,
          "shipToContact": null,
          "apCompany": null,
          "apAddress": null,
          "apContact": null,
          "multiShipFrom": null,
          "shipFrom": null,
          "shipVia": null,
          "ptdCommitAmt": null,
          "ptdPaidAmt": null,
          "ptdGstPaidAmt": null,
          "assetAllocStatus": null,
          "designPhase": null,
          "surveyArea": null,
          "workSchedule": null,
          "remarks": null,
          "prjtLoc": null,
          "effectiveDate": null,
          "startDate": null,
          "endDate": null,
          "originalCode": null,
          "indexNo": null,
          "bankAccountName": null,
          "bankAccountNo": null,
          "downPaymentAmt": null,
          "paymentType": null,
          "downPaymentPct": null,
          "contractorEngineer": null,
          "specialReqts": null,
          "schedStartDate": null,
          "schedEndDate": null,
          "subProject": null,
          "expiryDate": null,
          "modifyDate": null,
          "modifyUser": null,
          "insertUser": null,
          "insertDate": null,
          "dataOwner": null,
          "distributionType": null,
          "bidType": null,
          "companySupervision": null,
          "priceAgmtPoNo": null,
          "priceAgmtProject": null,
          "pricePlanPoNo": null,
          "pricePlanProject": null,
          "safeKeepingRate": null,
          "hbAdmnsFeesPoNo": null,
          "hbAdmnsFeesProject": null,
          "originalAmt": null,
          "haveSupplyList": null,
          "completeDate": null,
          "checkDate": null,
          "poNoCheckDate": null,
          "backCheckDate": null,
          "apportionmentNo": null,
          "budgetHierarchyCode": null,
          "poTypeClose": null,
          "subContractType": null,
          "assetType": null,
          "deliverAssetCode": null,
          "apportMethodAllow": null,
          "amaDate": null,
          "amaPerson": null,
          "letterGuarantee": null,
          "seqNumber": null,
          "subjectMatter": null,
          "duplicated": null,
          "projectDesc": null
        }, {
          "comDesc": "武汉英思工程科技有限公司",
          "paidTimes": 29,
          "paidAmount": 602815,
          "totalAmount": 580000,
          "completionRatio": 1.0393362068965517064356163245975039899349212646484375,
          "lastPaidDate": 1468944000000,
          "lastPaidAmount": 9000,
          "nextInvoiceNo": "2017023016",
          "depts": null,
          "systemId": "e6571378f7964fbab303cc88b30facf1",
          "systemCode": "YC_TGPMS",
          "poNo": "ICP201503602",
          "project": "TGP",
          "poStatus": null,
          "installProject": null,
          "currentCo": null,
          "description": "信息中心合同支付602",
          "poType": "SC",
          "poCategory": null,
          "company": "WHYSKJ",
          "companyAddress": null,
          "companyContact": null,
          "awardDate": null,
          "contractualDate": null,
          "requisitionRef": null,
          "installPoNo": null,
          "division": null,
          "department": null,
          "departmentDesc": "信息中心三峡分中心",
          "ccaAmt": null,
          "cepNo": null,
          "cashPackage": null,
          "dfltSuperPoNo": null,
          "poNote": null,
          "holdbackPercent": null,
          "holdbackReleaseDate": null,
          "paymentTerms": null,
          "commitType": null,
          "incurredType": null,
          "invoiceType": null,
          "contentLoc1": null,
          "contentLoc2": null,
          "contentLoc3": null,
          "contentLoc4": null,
          "contentLoc5": null,
          "contentLoc6": null,
          "docDaysToVendor": null,
          "docDaysFromVendor": null,
          "responsiblePerson": null,
          "engineer": null,
          "buyer": null,
          "expeditor": null,
          "inspector": null,
          "administrator": null,
          "supervisor": null,
          "multiShipTo": null,
          "shipToCompany": null,
          "shipToAddress": null,
          "shipToContact": null,
          "apCompany": null,
          "apAddress": null,
          "apContact": null,
          "multiShipFrom": null,
          "shipFrom": null,
          "shipVia": null,
          "ptdCommitAmt": null,
          "ptdPaidAmt": null,
          "ptdGstPaidAmt": null,
          "assetAllocStatus": null,
          "designPhase": null,
          "surveyArea": null,
          "workSchedule": null,
          "remarks": null,
          "prjtLoc": null,
          "effectiveDate": null,
          "startDate": null,
          "endDate": null,
          "originalCode": null,
          "indexNo": null,
          "bankAccountName": null,
          "bankAccountNo": null,
          "downPaymentAmt": null,
          "paymentType": null,
          "downPaymentPct": null,
          "contractorEngineer": null,
          "specialReqts": null,
          "schedStartDate": null,
          "schedEndDate": null,
          "subProject": null,
          "expiryDate": null,
          "modifyDate": null,
          "modifyUser": null,
          "insertUser": null,
          "insertDate": null,
          "dataOwner": null,
          "distributionType": null,
          "bidType": null,
          "companySupervision": null,
          "priceAgmtPoNo": null,
          "priceAgmtProject": null,
          "pricePlanPoNo": null,
          "pricePlanProject": null,
          "safeKeepingRate": null,
          "hbAdmnsFeesPoNo": null,
          "hbAdmnsFeesProject": null,
          "originalAmt": null,
          "haveSupplyList": null,
          "completeDate": null,
          "checkDate": null,
          "poNoCheckDate": null,
          "backCheckDate": null,
          "apportionmentNo": null,
          "budgetHierarchyCode": null,
          "poTypeClose": null,
          "subContractType": null,
          "assetType": null,
          "deliverAssetCode": null,
          "apportMethodAllow": null,
          "amaDate": null,
          "amaPerson": null,
          "letterGuarantee": null,
          "seqNumber": null,
          "subjectMatter": null,
          "duplicated": null,
          "projectDesc": null
        }, {
          "comDesc": "武汉英思工程科技有限公司",
          "paidTimes": 23,
          "paidAmount": 573011.02,
          "totalAmount": 580000,
          "completionRatio": 0.98795003448275864332828177793999202549457550048828125,
          "lastPaidDate": 1454256000000,
          "lastPaidAmount": 1000,
          "nextInvoiceNo": "2017022645",
          "depts": null,
          "systemId": "e6571378f7964fbab303cc88b30facf1",
          "systemCode": "YC_TGPMS",
          "poNo": "ICP201503122",
          "project": "TGP",
          "poStatus": null,
          "installProject": null,
          "currentCo": null,
          "description": "信息中心合同支付",
          "poType": "SC",
          "poCategory": null,
          "company": "WHYSKJ",
          "companyAddress": null,
          "companyContact": null,
          "awardDate": null,
          "contractualDate": null,
          "requisitionRef": null,
          "installPoNo": null,
          "division": null,
          "department": null,
          "departmentDesc": "信息中心三峡分中心",
          "ccaAmt": null,
          "cepNo": null,
          "cashPackage": null,
          "dfltSuperPoNo": null,
          "poNote": null,
          "holdbackPercent": null,
          "holdbackReleaseDate": null,
          "paymentTerms": null,
          "commitType": null,
          "incurredType": null,
          "invoiceType": null,
          "contentLoc1": null,
          "contentLoc2": null,
          "contentLoc3": null,
          "contentLoc4": null,
          "contentLoc5": null,
          "contentLoc6": null,
          "docDaysToVendor": null,
          "docDaysFromVendor": null,
          "responsiblePerson": null,
          "engineer": null,
          "buyer": null,
          "expeditor": null,
          "inspector": null,
          "administrator": null,
          "supervisor": null,
          "multiShipTo": null,
          "shipToCompany": null,
          "shipToAddress": null,
          "shipToContact": null,
          "apCompany": null,
          "apAddress": null,
          "apContact": null,
          "multiShipFrom": null,
          "shipFrom": null,
          "shipVia": null,
          "ptdCommitAmt": null,
          "ptdPaidAmt": null,
          "ptdGstPaidAmt": null,
          "assetAllocStatus": null,
          "designPhase": null,
          "surveyArea": null,
          "workSchedule": null,
          "remarks": null,
          "prjtLoc": null,
          "effectiveDate": null,
          "startDate": null,
          "endDate": null,
          "originalCode": null,
          "indexNo": null,
          "bankAccountName": null,
          "bankAccountNo": null,
          "downPaymentAmt": null,
          "paymentType": null,
          "downPaymentPct": null,
          "contractorEngineer": null,
          "specialReqts": null,
          "schedStartDate": null,
          "schedEndDate": null,
          "subProject": null,
          "expiryDate": null,
          "modifyDate": null,
          "modifyUser": null,
          "insertUser": null,
          "insertDate": null,
          "dataOwner": null,
          "distributionType": null,
          "bidType": null,
          "companySupervision": null,
          "priceAgmtPoNo": null,
          "priceAgmtProject": null,
          "pricePlanPoNo": null,
          "pricePlanProject": null,
          "safeKeepingRate": null,
          "hbAdmnsFeesPoNo": null,
          "hbAdmnsFeesProject": null,
          "originalAmt": null,
          "haveSupplyList": null,
          "completeDate": null,
          "checkDate": null,
          "poNoCheckDate": null,
          "backCheckDate": null,
          "apportionmentNo": null,
          "budgetHierarchyCode": null,
          "poTypeClose": null,
          "subContractType": null,
          "assetType": null,
          "deliverAssetCode": null,
          "apportMethodAllow": null,
          "amaDate": null,
          "amaPerson": null,
          "letterGuarantee": null,
          "seqNumber": null,
          "subjectMatter": null,
          "duplicated": null,
          "projectDesc": null
       }
      ]),
    };
  }

  showDetails = (rowData) => {
    this.props.router.toContractDetails(rowData);
  }
  
  renderRow = (rowData) => {
    return (
      <TouchableHighlight onPress={() => { this.showDetails(rowData)}}>
        <View style={{ flex:1, flexDirection:'row', marginTop:5, marginBottom:5, marginLeft:5, borderBottomWidth:1, borderBottomColor: '#DDD' }}>
          <View style={{ flex:1, paddingLeft:5, paddingRight:5 }}>
            <View style={{ flex:1, flexDirection:'row', justifyContent: 'space-between' }}>
              <View>
                <Text>合同名称:{rowData.description}</Text>
              </View>
              <View>
                <Icon name="ios-arrow-forward"></Icon>
              </View>
            </View>
            <View >
              <Text>合同编号:{rowData.poNo}</Text>
            </View>
            <View>
              <Text>所属部门:{rowData.departmentDesc}</Text>
            </View>
            <View style={{ flex:1, flexDirection:'row', justifyContent: 'space-between' }}>
              <View>
                <Text>总金额:{formatter.formatMoney(rowData.totalAmount)}</Text>
              </View>
              <View>
                <Text>已支付:{formatter.formatMoney(rowData.paidAmount)}</Text>
              </View>
            </View>
          </View>
        </View>
      </TouchableHighlight>
    );
  }

  render() {

/// <Icon name="ios-arrow-back" color='white' size={16}><Text style={{ color:'white', fontSize: 14 }}>待办</Text></Icon>
    return (
      <View style={{ flex: 1, backgroundColor: 'white' }}>
        <View style={[commonStyle.wrapper]}>
          <View style={[commonStyle.header]}>
            <Text style={[commonStyle.headerTitle]} numberOfLines={1}>合同</Text>
          </View>
          <SearchBar placeholder="搜索" />
          <Tabs activeKey={this.state.current}
              onChange={(key)=>{
                this.setState({current:key})}}>
            <Tabs.TabPane tab="三峡工程管理系统" key="1">
              <ScrollView
                ref={(scrollView) => { _scrollView = scrollView; }}
                automaticallyAdjustContentInsets={false}
                >
                 <ListView 
                  dataSource={this.state.contract}
                  renderRow={this.renderRow}
                />
              </ScrollView>
            </Tabs.TabPane>
            <Tabs.TabPane tab="金沙江工程管理系统" key="2">

            </Tabs.TabPane>
          </Tabs>
        </View> 
      </View>
     
    );
  }
}

ViewContract.propTypes = {
  dispatch: PropTypes.func.isRequired,
};

const mapStateToProps = makeSelectViewContract();

function mapDispatchToProps(dispatch) {
  return {
    dispatch,
  };
}

export default connect(mapStateToProps, mapDispatchToProps)(ViewContract);
